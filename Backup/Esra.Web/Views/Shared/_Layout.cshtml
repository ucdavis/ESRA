<!DOCTYPE html>
<html lang="en">
<head>
    <title>ESRA - @ViewBag.Title</title>
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="shortcut icon" href="@Url.Content("~/favicon.ico")" />
    <link href="@Url.Css("main.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Css("extended.css")" rel="stylesheet" type="text/css" />
    @* <link href="@Url.Css("jquery-ui-1.8.11.custom.css")" rel="stylesheet" type="text/css" />*@
    <link href="@Url.Css("jquery-ui-1.8.16.custom.css")" rel="stylesheet" type="text/css" />
    @*<link href="@Url.Content("~/content/themes/base/jquery.ui.all.css")" rel="stylesheet" type="text/css" />*@
    <link href="@Url.Css("ui.multiselect.css")" rel="stylesheet" type="text/css" />
    @*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js" type="text/javascript"></script>*@
    <script src="@Url.Script("jquery-1.6.2.min.js")" type="text/javascript"></script>
    @*<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/jquery-ui.min.js" type="text/javascript"></script>*@
    <script src="@Url.Script("jquery-ui-1.8.16.custom.min.js")" type="text/javascript"></script>
    <script src="@Url.Script("DataTables-1.8.1/media/js/jquery.dataTables.min.js")" type="text/javascript"></script>
    @* <script src="//ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js"
        type="text/javascript"></script>*@
    <script src="@Url.Script("jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery.formatCurrency-1.4.0.min.js")" type="text/javascript"></script>
    <script src="@Url.Script("jshashtable.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery.numberformatter-1.2.2.min.js")" type="text/javascript"></script>
    @* <script src="//ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js"
        type="text/javascript"></script>*@ @*<script src="//ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.js" type="text/javascript"></script>*@
    @*<script src="//ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"
        type="text/javascript"></script>*@
    <script src="@Url.Script("jquery.tmpl.min.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery-dateFormat.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery.ui.combobox.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery.fn.sortElements.js")" type="text/javascript"></script>
    <script src="@Url.Script("jquery.ui.autocomplete.js")" type="text/javascript"></script>
    <script src="@Url.Script("ui.multiselect.js")" type="text/javascript"></script>
    <script src="@Url.Script("themeswitchertool.js")" type="text/javascript"></script>
    @if (false)
    { //Load the jquery docs for intellisense
        <script src="../../Scripts/jquery-1.6-vsdoc.js" type="text/javascript"></script>
    }
    @MvcMiniProfiler.MiniProfiler.RenderIncludes()
    @RenderSection("AdditionalScripts", false)
    <style type="text/css">
        /* TODO shouldn't be necessary */
        .ui-button-icon-only .ui-button-text .ui-button
        {
            margin-left: -1px;
        }
        .ui-button-icon-only .ui-button-text
        {
            padding: 0.35em;
        }

        .ui-autocomplete-input
        {
            margin: 0;
            padding: 0.48em 0 0.47em 0.45em;
            width: 30em;
        }
        .ui-autocomplete
        {
            max-height: 200px;
            overflow-y: auto; /* prevent horizontal scrollbar */
            overflow-x: hidden; /* add padding to account for vertical scrollbar */
            padding-right: 20px;
        }
        /* IE 6 doesn't support max-height
	 * we use height instead, but this forces the menu to always be this tall
	 */
        * html .ui-autocomplete
        {
            height: 200px;
        }
        .selected
        {
            background-color: DodgerBlue;
            color: White;
        }
        .highlight
        {
            background: yellow;
        }
    </style>
    <style type='text/css'>
        .wideMultiSelect
        {
            background-color: #fcfcfc;
            border: 1px solid #000;
            width: 800px;
            margin-top: 5px;
            height: 200px;
            max-height: 200px;
            overflow: auto;
        }

        .wideMultiSelect > .row
        {
            border-bottom: 1px dotted #ccc;
            padding: 2px;
        }

        .wideMultiSelect > .row:last-child
        {
            border-bottom: 0;
        }

        .wideMultiSelect > .row > .delete
        {
            cursor: pointer;
            margin-bottom: -2px;
        }

        .narrowMultiSelect
        {
            background-color: #fcfcfc;
            border: 1px solid #000;
            width: 275px;
            margin-top: 5px;
            height: 200px;
            max-height: 200px;
            overflow: auto;
        }

        .narrowMultiSelect > .row
        {
            border-bottom: 1px dotted #ccc;
            padding: 2px;
        }

        .narrowMultiSelect > .row:last-child
        {
            border-bottom: 0;
        }

        .narrowMultiSelect > .row > .delete
        {
            cursor: pointer;
            margin-bottom: -2px;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        @* Render System Wide Status Here *@ @*
		<div id="system_wide_status">
			<div id="system_wide_status_text">

			</div>
		</div>
		*@
        <div id="branding">
            <span class="header">
                <h1>
                    ESRA</h1>
                <div class="col1">
                    <span>
                        <img src="@Url.Image("logo-ucdavis.png")" alt="UC Davis" /></span> <span>
                            <img src="@Url.Image("logo-caes-long-cap.png")" alt="College of Agricultural &amp; Environmental Sciences" /></span>
                </div>
                <div class="col2">
                    @* Render Navigation *@
                    @Html.Partial("_Navigation")
                </div>
            </span>
        </div>
        <div id="personalbar">
            @if (User.Identity != null && User.Identity.Name != String.Empty)
            {
                <div class="col1">
                    <span id="welcome_user">Welcome @User.Identity.Name
                        @{
                var isDepartmentUser = Session[Esra.Web.Resources.GlobalConstants.KEY_IS_DEPARTMENT_USER] as bool?;
                if (isDepartmentUser != null && (bool)isDepartmentUser)
                {<text>(Department User)!</text>}
                else
                {<text>(Dean's Office User)!</text>}
                        }
                    </span>
                </div>
            }
            <div class="col2" id="LogOffOn">
                @Html.ActionLink("Logoff", "LogOut", "Account")
                <div id="switcher">
                </div>
            </div>
        </div>
        <div class="main">
            <div id="messagecontainer">
                @if (!string.IsNullOrWhiteSpace(ViewBag.ErrorMessage))
                {
                    <div id="error_message">
                        @ViewBag.ErrorMessage
                    </div>
                }
                @if (!string.IsNullOrWhiteSpace(TempData["Message"] as string))
                {
                    <div id="status_message">
                        @TempData["Message"]
                    </div>
                }
                <div class="col1">
                    <h2>@ViewBag.Title</h2>
                </div>
                <div class="col2">
                    @* Render Subpage Navigation *@
                    @RenderSection("SubNav", false)
                </div>
            </div>
            @RenderBody()
        </div>
    </div>
    <div id="footer">
        <div id="footertext">
            <div class="col1">
                @* Render Navigation *@
                @Html.Partial("_Navigation")
            </div>
            <div class="col2">
                <ul>
                    <li>Version # @ViewBag.Version</li>
                    <li>Developed By The College Of Agricultural And Environmental Science Dean's Office</li>
                    <li>Copyright The Regents of the University of California, Davis campus, 2005-11.<br />
                        All Rights Reserved. </li>
                </ul>
            </div>
        </div>
    </div>
    @* -- Include if you want placeholder support *@ @*
	<script src="@Url.Script("Common/jquery.placeholder.min.js")" type="text/javascript"></script>
	<script type="text/javascript">
	    $(function () {
	        $('input, textarea').placeholder();
	    });
	</script>
	*@ @*----------- Google Analytics ---------- *@
    <script language="JavaScript" type="text/javascript">
        var _gaq = [["_setAccount", "UA-5512876-9"], ["_trackPageview"]]; // Change UA-XXXXX-X to be your site's ID
        (function (d, t) {
            var g = d.createElement(t), s = d.getElementsByTagName(t)[0]; g.async = 1;
            g.src = ("https:" == location.protocol ? "//ssl" : "//www") + ".google-analytics.com/ga.js";
            s.parentNode.insertBefore(g, s)
        } (document, "script"));
    </script>
    <script language="JavaScript" type="text/javascript">
        $(document).ready(function () {
            //$('#switcher').themeswitcher();
            $('.datatable').dataTable({
                "bProcessing": true,
                //"bServerSide": true,
                "bJQueryUI": true,
                "aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],  // This allows for the "display all" records feature.
                "sPaginationType": "full_numbers"
            });
        })
    </script>
    <script type="text/javascript">
        var uvOptions = {};
        (function () {
            var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
            uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/P08Pv85kbUGJZigw6lgew.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
        })();
    </script>
</body>
</html>